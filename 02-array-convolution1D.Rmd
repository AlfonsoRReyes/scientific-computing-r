---
title: "R Notebook"
output: html_notebook
---


    bool convolve1D(float* in, float* out, int dataSize, float* kernel, int kernelSize)
    {
        int i, j, k;
    
        // check validity of params
        if(!in || !out || !kernel) return false;
        if(dataSize <=0 || kernelSize <= 0) return false;
    
        // start convolution from out[kernelSize-1] to out[dataSize-1] (last)
        for(i = kernelSize-1; i < dataSize; ++i)
        {
            out[i] = 0;                             // init to 0 before accumulate
    
            for(j = i, k = 0; k < kernelSize; --j, ++k)
                out[i] += in[j] * kernel[k];
        }
    
        // convolution from out[0] to out[kernelSize-2]
        for(i = 0; i < kernelSize - 1; ++i)
        {
            out[i] = 0;                             // init to 0 before sum
    
            for(j = i, k = 0; j >= 0; --j, ++k)
                out[i] += in[j] * kernel[k];
        }
    
        return true;
    }

```{r}
convolve1D <- function(input, kernel) {
    dataSize   <- length(input)
    kernelSize <- length(kernel)

    out <- vector("numeric")
    
    for (i in kernelSize:dataSize) {
        out[i] <- 0
        for (j in i:1) {
            # cat(j,"\n")
            for (k in 1:kernelSize) {
                # cat(k,"\n")
                out[i] <-  out[i] + input[j] * kernel[k]
            }
        }
    }
    # convolution from out[0] to out[kernelSize-2]
    for (i in 1:(kernelSize)) {
        out[i] <- 0
        k <- 1
        for (j in i:1) {
            out[i] <- out[i] + input[j] * kernel[k]
            k <-  k + 1
        }
    }
    return(out)
}

x <- c(3, 4, 5, 0, 0)
y <- c(2, 1)

convolve1D(x, y)
```

